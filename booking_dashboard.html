{% extends "base.html" %}
{% block content %}
<section class="booking-dashboard">
  <div class="container">
        <h2 style="margin-bottom: 20px">Booking Details</h2>

        <div class="booking-card" style="border:1px solid #ccc; padding:20px; border-radius:8px; max-width:500px; margin-bottom:20px;">

        
        {% set imgs = booking.property.images|load_json %}
        {% if imgs and imgs[0] %}
            <img src="{{ url_for('static', filename='uploads/' ~ imgs[0]) }}"
                alt="{{ booking.property.title }}"
                style="width:100%;height:200px;object-fit:cover;border-radius:8px;">
        {% endif %}

        <h3>{{ booking.property.title }}</h3>
        <p>{{ booking.property.description }}</p>
        <p><strong>Location:</strong> {{ booking.property.location }}</p>
        <p><strong>Price:</strong> {{ booking.property.price }}</p>

        <hr>

        
        <p><strong>Status:</strong> {{ booking.status }}</p>
        {% if booking.status == "Pending" %}
            <p style="color:orange;">Waiting for confirmation</p>
        {% elif booking.status == "Confirmed" %}
            <p style="color:green;">Your booking is confirmed</p>
        {% elif booking.status == "Cancelled" %}
            <p style="color:red;">Your booking was cancelled</p>
        {% endif %}

        <hr>

        
        <h4>Owner Information</h4>
        <div style="display:flex; align-items:center; gap:12px;">
            <img src="{{ url_for('static', filename='uploads/' ~ (booking.property.owner.profile_pic or 'default_profile.png')) }}"
                alt="Owner Picture"
                style="width:60px;height:60px;border-radius:50%;object-fit:cover;">
            <div>
            <p>Property Owner: <strong> {{ booking.property.owner.name }}</strong></p>
            <p>Email: {{ booking.property.owner.email }}</p>
            <p>Phone: {{ booking.property.owner.phone }}</p>
            </div>
        </div>

            <div style="margin-top:20px; text-align:center;">
                <a href="{{ url_for('dashboard') }}" 
                    style="
                    display:inline-block;
                    padding:5px 10px;
                    background-color:#4346ffff;
                    color:white;
                    text-decoration:none;
                    border-radius:6px;
                    ">Back to Dashboard
                </a>
            </div>


        </div>
    </div>
</section>
{% endblock %}
